# ============================================================================
# InsightBridge v4.5 Configuration
# IMPORTANT: Never commit .env file with real secrets to version control
# Copy this file to .env and update with your actual values
# ============================================================================

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================
APP_NAME=InsightBridge
APP_VERSION=4.5.0
ENVIRONMENT=development
LOG_LEVEL=INFO
DEBUG_MODE=false

# ============================================================================
# SECURITY (CRITICAL - CHANGE IN PRODUCTION)
# ============================================================================
# Generate a strong secret key for production:
# python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-secret-key-here-change-in-production

# ============================================================================
# SERVER
# ============================================================================
HOST=0.0.0.0
PORT=8000

# ============================================================================
# JWT CONFIGURATION (CRITICAL)
# ============================================================================
# RSA Key Paths (generated by scripts/generate_test_jwts.py)
JWT_PUBLIC_KEY_PATH=./keys/public_key.pem
JWT_PRIVATE_KEY_PATH=./keys/private_key.pem

# For RS256 (RSA) - recommended for asymmetric signing
JWT_ALGORITHM=RS256

# For HS256 (HMAC) - only if using symmetric signing
# Uncomment and set a strong secret key
# JWT_SECRET_KEY=your-jwt-secret-key-here

JWT_CLOCK_DRIFT_SECONDS=30
JWT_EXPIRATION_HOURS=1

# ============================================================================
# DATABASE (CRITICAL - CONFIGURE FOR YOUR ENVIRONMENT)
# ============================================================================
# Development (Change credentials)
DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/insightbridge
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_SSL_MODE=prefer

# ============================================================================
# REDIS CACHE (CRITICAL - USE AUTH IN PRODUCTION)
# ============================================================================
# Development
REDIS_URL=redis://localhost:6379/0
REDIS_MAX_CONNECTIONS=50
REDIS_SSL=false

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST_SIZE=120

# ============================================================================
# SCORE PROVIDER
# ============================================================================
SCORE_PROVIDER_TYPE=database
# SCORE_API_URL=https://api.scoring-service.com/v1
# SCORE_API_KEY=sk_live_your_api_key_here
SCORE_CACHE_TTL_SECONDS=300

# ============================================================================
# TELEMETRY
# ============================================================================
TELEMETRY_VERSION=1.0.0
TELEMETRY_EMIT_ENABLED=true

# ============================================================================
# REPLAY CACHE
# ============================================================================
REPLAY_CACHE_PURGE_INTERVAL_SECONDS=300
REPLAY_CACHE_MAX_SIZE=1000000